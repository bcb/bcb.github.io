---
layout: post
title: "Create an ECR image repository"
date: 2016-07-14 00:54:00 +10:00
categories: aws
---

# Login to the ECR registry

Docker must be logged into the registry. The aws client can output the required
docker command to login with `aws ecr get-login`). Note that not all AWS
regions support ECR. Therefore you should specify the region of the registry
with `--region` if it isn't your default in aws cli.

```bash
$ exec $(aws ecr --region us-west-2 get-login)
```

# Create repository

```bash
$ aws ecr create-repository --repository-name myimage
```

# Push to repository

Tag the image:

```bash
$ docker tag myimage aws_account_id.dkr.ecr.us-west-2.amazonaws.com/myimage
```

Push:

```bash
$ docker push aws_account_id.dkr.ecr.us-west-2.amazonaws.com/myimage
```
